{"version":3,"sources":["../src/restapi_ctrl.js"],"names":["PanelCtrl","angular","restapiDefaults","url","response","RestapiCtrl","$scope","$injector","$http","_","defaults","panel","restapi","method","withCredentials","then","console","log","data","catch","error","err","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,qB,kBAAAA,S;;AACDC,mB;;;;;;;;;;;;;;;;;;;;;AAEDC,2B,GAAkB;AACpBC,qBAAK,gCADe;AAEpBC,0BAAU;AAFU,a;;mCAKXC,W;;;AAET,qCAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,KAA/B,EAAsC;AAAA;;AAAA,0IAC5BF,MAD4B,EACpBC,SADoB;;AAElCE,sBAAEC,QAAF,CAAW,MAAKC,KAAhB,EAAuBT,eAAvB;AACA,0BAAKU,OAAL,GAAeV,eAAf;AACA,0BAAKM,KAAL,GAAaA,KAAb;AAJkC;AAKrC;;;;+CAEU;AAAA;;AACT,6BAAKA,KAAL,CAAW;AACTK,oCAAQ,KADC;AAETC,6CAAiB,IAFR;AAGTX,iCAAK,KAAKS,OAAL,CAAaT;AAHT,yBAAX,EAKCY,IALD,CAKM,gBAAQ;AACVC,oCAAQC,GAAR,CAAYC,IAAZ;AACA,mCAAKN,OAAL,CAAaR,QAAb,GAAwBc,IAAxB;AACH,yBARD,EASCC,KATD,CASO,eAAO;AACVH,oCAAQI,KAAR,CAAcC,GAAd;AACA,mCAAKT,OAAL,CAAaR,QAAb,GAAwBiB,GAAxB;AACH,yBAZD;AAaD;;;;cAvB4BrB,S;;;;AA0BjCK,wBAAYiB,WAAZ,GAA0B,aAA1B","file":"restapi_ctrl.js","sourcesContent":["import {PanelCtrl} from 'app/plugins/sdk';\nimport angular from 'angular';\n\nconst restapiDefaults = {\n    url: \"https://sandbox.waylay.io/api/\",\n    response: \"\"\n};\n\nexport class RestapiCtrl extends PanelCtrl {\n\n    constructor($scope, $injector, $http) {\n        super($scope, $injector,);\n        _.defaults(this.panel, restapiDefaults);\n        this.restapi = restapiDefaults;\n        this.$http = $http;\n    }\n\n    onSubmit() {\n      this.$http({\n        method: 'GET',\n        withCredentials: true,\n        url: this.restapi.url\n      })\n      .then(data => {\n          console.log(data);\n          this.restapi.response = data;\n      })\n      .catch(err => {\n          console.error(err);\n          this.restapi.response = err;\n      });\n    }\n}\n\nRestapiCtrl.templateUrl = 'module.html';\n"]}